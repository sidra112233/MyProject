<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Inbound Calls Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f4f7fa;
      color: #333;
    }
    .hero {
      background: linear-gradient(135deg, #1e3a8a, #14b8a6);
      color: #fff;
      padding: 60px 20px;
      text-align: center;
    }
    .hero h1 {
      font-weight: 700;
      font-size: 2.5rem;
    }
    .sidebar {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
    }
    .card-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
    }
    .call-card {
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
      padding: 20px;
      transition: transform 0.2s ease;
    }
    .call-card:hover {
      transform: translateY(-4px);
    }
    .badge-success {
      background-color: #22c55e !important;
    }
    .badge-failed {
      background-color: #ef4444 !important;
    }
    .toggle-btn {
      margin-bottom: 20px;
    }
    .animated-gradient-text {
  position: relative;
  margin: 0 auto;
  display: flex;
  max-width: fit-content;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  border-radius: 1.25rem;
  font-weight: 500;
  backdrop-filter: blur(10px);
  transition: box-shadow 0.5s ease-out;
  overflow: hidden;
  cursor: pointer;
}

.gradient-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-size: 300% 100%;
  animation: gradient linear infinite;
  border-radius: inherit;
  z-index: 0;
  pointer-events: none;
}

.gradient-overlay::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  border-radius: inherit;
  width: calc(100% - 2px);
  height: calc(100% - 2px);
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  background-color: #060010;
  z-index: -1;
}

@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

.text-content {
  display: inline-block;
  position: relative;
  z-index: 2;
  background-size: 300% 100%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  animation: gradient linear infinite;
}
  </style>
</head>
<body>

  <section class="hero">
    <h1><i class="fas fa-headset"></i> Inbound Calls </h1>
    <p>Review all recent inbound calls and filter with ease.</p>
  </section>

  <div class="container my-5">
    <div class="row">
      <!-- Filter Sidebar -->
      <aside class="col-lg-3 mb-4">
        <button class="btn btn-outline-secondary w-100 toggle-btn" type="button" data-bs-toggle="collapse" data-bs-target="#filterPanel">
          <i class="fas fa-filter"></i> Show Filters
        </button>
        <div id="filterPanel" class="collapse show sidebar">
         <form class="row g-3" method="GET" action="/inbound/calls">
            <div class="col-12">
              <label class="form-label"><i class="fas fa-user"></i> Customer</label>
        <select class="form-select" name="customer">
  <option value="">All Customers</option>
  <% customers.forEach(c => { %>
    <option value="<%= c.customer_name %>" <%= (c.customer_name === selectedCustomer) ? 'selected' : '' %>><%= c.customer_name %></option>
  <% }); %>
</select>

<!-- (Optional) Add more inputs with name="duration" and name="date" -->

            </div>
            <div class="col-12">
              <label class="form-label"><i class="fas fa-clock"></i> Duration</label>
              <div class="input-group">
                <select class="form-select w-25">
                  <option>&gt;</option>
                  <option>&lt;</option>
                </select>
                <input class="form-control" type="number" placeholder="sec" />
              </div>
            </div>
            <div class="col-12">
              <label class="form-label"><i class="fas fa-calendar"></i> Date</label>
              <input class="form-control" type="date" />
            </div>
            <div class="col-12 text-end">
              <button class="btn btn-primary w-100" type="submit"><i class="fas fa-filter"></i> Apply Filters</button>
            </div>
          </form>
        </div>
      </aside>

      <!-- Cards Section -->
      <div class="col-lg-9">
        <div class="card-container">
          <% if (calls.length > 0) { %>
            <% calls.forEach(call => { %>
              <div class="call-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <span class="badge <%= call.status === 'Saved' ? 'badge-success' : 'badge-failed' %>">
                    <i class="fas fa-phone-alt"></i> <%= call.type %>
                  </span>
                  <span class="text-muted"><%= new Date(call.date).toLocaleString() %></span>
                </div>
                <h5 class="mb-2">Customer: <strong><%= call.customer_name %></strong></h5>
                <p><i class="fas fa-clock"></i> Duration: <strong><%= call.duration %> sec</strong></p>
                <p><i class="fas fa-check-circle"></i> Status: <strong><%= call.status %></strong></p>
              </div>
            <% }) %>
          <% } else { %>
            <p>No inbound calls found.</p>
          <% } %>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
</body>
</html>
